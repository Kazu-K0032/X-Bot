/**
 * 怖い話を生成してXに投稿するバッチ関数
 */
function batchPostStrangeStory() {
  const system = "あなたは奇妙な短い話を生成する専門家です。ユニークで興味深い物語を創り出し、読者を驚かせるような内容にしてください。"
  const prompt = `https://www.alphapolis.co.jp/novel/980242121/592696168

こちらの各目次の内容を読み込んで。これらは「意味が分かると怖い話」に該当します。
Xにポストする用の、視聴者が思わず見てしまうような「不気味で短めの怖い話」や「意味が分かると怖い話」を作りたいです。
200文字以内で簡潔で完結した文章を生成して

# 生成時の注意
- 情景がイメージできるよう、かつ不気味さが伝わるようにする文章のみを生成すること
- 読点を置く場合、一文につき3回までとする
- 中学生でも分かる内容にすること
- 読者には不気味さだけが残り、文の先を想像するとゾッとするような文章にすること`;

  try {
    // --- 1. OpenAI API で不気味な短い話を生成 ---
    const story = generateContent(system, prompt);

    // --- 2. 投稿用フォーマットを作成 ---
    const tags = ["奇妙な話", "フィクション"];
    const formattedPost = postedFormat(story, tags);

    // --- 3. ツイート本文を postTweetGAS で送信 ---
    // postTweetGAS(formattedPost);

    console.log(formattedPost);
  } catch (err) {
    console.log("エラー発生: " + err.message);
    throw err;
  }
}

/**
 * 怖い話を生成してXに投稿するバッチ関数
 */
function batchPostDontExistWords() {
  const system = "あなたは存在しない日本の単語やことわざを生成する専門家です。ユニークで興味深い言葉を創り出し、読者が引き込まれるような内容にしてください。"
  const prompt = `Xにポストする用の、視聴者が思わず見てしまうような存在しない単語・ことわざを作りたいです。
200文字以内で簡潔で完結した文章を生成して。フォーマットは以下になります。

単語・ことわざ

■意味
単語・ことわざの意味やストーリー


# 生成例1
井戸の水を覗けば、隣の顔が浮かぶ

■意味
他人のことを探ろうとすれば、自分の思いよりも隣人の姿ばかりが見えてしまう、という皮肉を表すことわざです。
ある村人が井戸を覗き込み、自分の顔を確かめようとしました。ところが澄んだ水面には、隣の人の顔が先に映り込みました。自分の心を知りたいのに、見えるのは他人ばかり。その瞬間、村人は小さな悔しさを覚えたと伝えられています。

# 生成例2
伊れない病

■意味
「伊る」を認識できなくなる病気です。
この病気にかかると、「伊る」動作やそれに関係する認識が過去に遡って失われます。例えば、日本の伝統芸能『能』や『狂言』の動作が、発症者には「和装をしてお面を付けた人間が扇子を片手にウロウロと歩き回っているだけ」の非常に残念なものに見えてしまう。発症の始まりは「伊る」の読みを認識すること。

# 生成時の注意

単語またはことわざを１つ生成し、フォーマットに沿って生成すること

単語・ことわざ
- 「棚からぼたもち」や「犬も歩けば棒に当たる」といった、言葉としてイメージしやすいが、同時に「意味は何だろう」とわくわくできるようなものを生成する
- 小中学生でもぱっと見イメージできるような単語・ことわざにすること
- 単語を生成する場合、その言葉だけでは意味が分からないものにして(例: 伊れない病・0匹のイナゴ)
- 皮肉・不気味・ユニーク・面白い・アイロニーといったバリエーション豊富なものにする

意味の説明
- ですます調
- ことわざにおいては昔にしかない物や社会の言葉を使うこと。「AI」など現代にしかない言葉は使わない
- 初めに「意味」。次に語源に当たる「ストーリー」。の順で150文字前後で説明すること
- 「意味」に当たる文章の後、改行すること
- 語源は情景がイメージできる内容にする。また話に主人公となる人がいる場合はその人の心情を加えること
- ストーリー説明には事実だけでなく登場人物の心情を加えること
- 読点を置く場合、一文につき3回までとする
- 中学生でも分かる内容にすること`;

  try {
    // --- 1. OpenAI API で不気味な短い話を生成 ---
    const story = generateContent(system, prompt);

    // --- 2. 投稿用フォーマットを作成 ---
    const tags = ["フィクション"];
    const formattedPost = postedFormat(story, tags);

    // --- 3. ツイート本文を postTweetGAS で送信 ---
    postTweetGAS(formattedPost);

    console.log(formattedPost);
  } catch (err) {
    console.log("エラー発生: " + err.message);
    throw err;
  }
}
